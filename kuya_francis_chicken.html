<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuya Francis Chicken - Order Online</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for the chicken theme */
        :root {
            --kfc-red: #D72323;
            --kfc-yellow: #F0A500;
            --kfc-cream: #F7F7F7;
            --shadow-light: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--kfc-cream);
        }
        .bg-kfc-red { background-color: var(--kfc-red); }
        .text-kfc-red { color: var(--kfc-red); }
        .bg-kfc-yellow { background-color: var(--kfc-yellow); }
        .shadow-kfc { box-shadow: 8px 8px 0px 0px var(--kfc-yellow); }

        /* Custom scrollbar for better aesthetics */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: var(--kfc-red);
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Header -->
    <header class="bg-white sticky top-0 z-10 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <!-- Logo/Icon -->
                <svg class="w-8 h-8 text-kfc-red" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M10 2a8 8 0 100 16A8 8 0 0010 2zM3 10a7 7 0 1114 0 7 7 0 01-14 0zm8-3a1 1 0 100 2h1a1 1 0 100-2h-1zm-3 4a1 1 0 100 2h3a1 1 0 100-2H8zM8 13a1 1 0 100 2h1a1 1 0 100-2H8zM10 5a1 1 0 100-2 1 1 0 000 2zm0 10a1 1 0 100-2 1 1 0 000 2zM6 10a1 1 0 100-2 1 1 0 000 2zm8 0a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"></path>
                </svg>
                <h1 class="text-3xl font-extrabold tracking-tight text-gray-900">Kuya Francis Chicken</h1>
            </div>
            <span class="hidden sm:inline text-lg font-medium text-gray-600">Taste the Best, Delivered Fast!</span>
        </div>
    </header>

    <!-- Main Content Grid -->
    <main class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 grid grid-cols-1 lg:grid-cols-3 gap-8">

        <!-- Left Column: Menu Items -->
        <section id="menu-section" class="lg:col-span-2">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-kfc-red pb-2">üçó Kuya's Signature Menu</h2>
            
            <div id="menu-list" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Menu items will be rendered here by JavaScript -->
            </div>
        </section>

        <!-- Right Column: Shopping Cart -->
        <aside class="lg:col-span-1 sticky top-20 h-fit bg-white p-6 rounded-xl shadow-2xl shadow-kfc/20 border-4 border-kfc-yellow custom-scrollbar overflow-y-auto max-h-[85vh]">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 pb-2 border-b border-gray-200">üõí Your Order</h2>
            
            <div id="cart-items-list" class="space-y-4 min-h-[100px]">
                <!-- Cart items will be rendered here by JavaScript -->
            </div>

            <!-- Empty Cart State -->
            <div id="empty-cart-message" class="text-center text-gray-500 py-10" style="display: none;">
                <p>Your order is empty, Kuya! Start adding some chicken.</p>
                <img class="w-12 h-12 mx-auto mt-2 opacity-50" src="https://placehold.co/48x48/F0A500/FFFFFF?text=üêî" alt="Empty Cart Icon">
            </div>

            <!-- Totals & Checkout -->
            <div id="cart-summary" class="mt-6 pt-4 border-t border-gray-200 space-y-2">
                <div class="flex justify-between font-medium text-gray-600">
                    <span>Subtotal:</span>
                    <span id="subtotal-display">‚Ç±0.00</span>
                </div>
                <div class="flex justify-between font-medium text-gray-600">
                    <span>Delivery Fee:</span>
                    <span id="delivery-fee-display">‚Ç±50.00</span>
                </div>
                <div class="flex justify-between font-bold text-2xl pt-2 border-t border-kfc-red">
                    <span>Total:</span>
                    <span id="total-display" class="text-kfc-red">‚Ç±50.00</span>
                </div>

                <button id="checkout-button" onclick="placeOrder()" class="w-full mt-4 py-3 bg-kfc-red text-white font-bold text-lg rounded-lg shadow-md hover:bg-red-700 transition duration-150 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2" disabled>
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                    <span>Place Order</span>
                </button>
            </div>
        </aside>

    </main>
    
    <!-- Custom Modal for Checkout Confirmation (Instead of alert()) -->
    <div id="checkout-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 hidden items-center justify-center z-50">
        <div class="bg-white p-8 rounded-xl max-w-sm w-full text-center shadow-2xl">
            <div class="text-5xl mb-4">üéâ</div>
            <h3 class="text-2xl font-bold text-kfc-red mb-3">Order Placed!</h3>
            <p class="text-gray-700 mb-6">Your order of <strong id="modal-final-total"></strong> has been confirmed. Kuya Francis is preparing your chicken now!</p>
            <p class="text-sm text-gray-500 mb-6">Delivery is on the way. Thank you for choosing KFC!</p>
            <button onclick="closeModal()" class="w-full py-2 bg-kfc-yellow text-gray-900 font-bold rounded-lg hover:bg-yellow-600 transition duration-150">
                Continue Shopping
            </button>
        </div>
    </div>

    <script>
        const DELIVERY_FEE = 50.00;
        
        // --- Menu Data ---
        // I have updated these placeholder image URLs to be more descriptive and chicken-themed.
        const menuItems = [
            { id: 1, name: "The Ultimate Bucket", description: "8 pcs. Fried Chicken, Rice, and signature Side Dishes. Great for the family!", price: 499.00, 
              image: "https://placehold.co/150x150/FFC300/3A0101?text=üçó+BUCKET" }, // Yellow background, chicken leg emoji
            { id: 2, name: "2pc Chicken Meal", description: "Two pieces of crispy fried chicken, steamed rice, and a refreshing drink.", price: 150.00, 
              image: "https://placehold.co/150x150/D72323/FFFFFF?text=üêì+PLATE" }, // Red background, chicken emoji
            { id: 3, name: "Chicken Sandwich Supreme", description: "Signature fried chicken fillet, special Kuya's sauce, and fresh veggies on a brioche bun.", price: 120.00, 
              image: "https://placehold.co/150x150/F0A500/000000?text=üçî+SUPREME" }, // Yellow background, burger emoji
            { id: 4, name: "Kuya's Gravy Fries", description: "Large, golden fries generously smothered in our signature Kuya's Gravy.", price: 90.00, 
              image: "https://placehold.co/150x150/D72323/FFFFFF?text=üçü+GRAVY" } // Red background, fries emoji
        ];

        // --- State Management ---
        let cart = {}; // Stores { itemId: quantity }

        // --- DOM Elements ---
        const menuListEl = document.getElementById('menu-list');
        const cartItemsListEl = document.getElementById('cart-items-list');
        const subtotalDisplayEl = document.getElementById('subtotal-display');
        const totalDisplayEl = document.getElementById('total-display');
        const deliveryFeeDisplayEl = document.getElementById('delivery-fee-display');
        const checkoutButtonEl = document.getElementById('checkout-button');
        const emptyCartMessageEl = document.getElementById('empty-cart-message');
        const checkoutModal = document.getElementById('checkout-modal');
        const modalFinalTotal = document.getElementById('modal-final-total');

        // Set initial delivery fee display
        deliveryFeeDisplayEl.textContent = `‚Ç±${DELIVERY_FEE.toFixed(2)}`;

        // --- Core Functions ---

        /**
         * Renders the menu items based on the menuItems array.
         */
        function renderMenu() {
            menuListEl.innerHTML = menuItems.map(item => `
                <div class="bg-white p-4 rounded-xl shadow-lg border-2 border-kfc-yellow/50 flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-4">
                    <!-- Note: The image uses the updated placeholder URL with chicken emojis -->
                    <img src="${item.image}" alt="${item.name}" class="w-24 h-24 rounded-lg object-cover flex-shrink-0">
                    <div class="flex-grow text-center sm:text-left">
                        <h3 class="text-xl font-bold text-gray-900">${item.name}</h3>
                        <p class="text-sm text-gray-500">${item.description}</p>
                        <p class="text-lg font-extrabold text-kfc-red mt-1">‚Ç±${item.price.toFixed(2)}</p>
                    </div>
                    <div id="item-control-${item.id}" class="flex-shrink-0 w-full sm:w-auto">
                        ${renderItemControl(item.id)}
                    </div>
                </div>
            `).join('');
        }

        /**
         * Renders the control section (Add button or quantity picker) for a single item.
         * @param {number} itemId
         */
        function renderItemControl(itemId) {
            const quantity = cart[itemId] || 0;
            
            if (quantity > 0) {
                return `
                    <div class="flex items-center justify-center space-x-2 bg-gray-100 rounded-lg p-2">
                        <button onclick="updateQuantity(${itemId}, -1)" class="w-8 h-8 flex items-center justify-center bg-kfc-red text-white text-xl font-bold rounded-full hover:bg-red-700 transition duration-150">
                            ‚àí
                        </button>
                        <span class="text-lg font-bold w-6 text-center">${quantity}</span>
                        <button onclick="updateQuantity(${itemId}, 1)" class="w-8 h-8 flex items-center justify-center bg-kfc-red text-white text-xl font-bold rounded-full hover:bg-red-700 transition duration-150">
                            +
                        </button>
                    </div>
                `;
            } else {
                return `
                    <button onclick="updateQuantity(${itemId}, 1)" class="w-full sm:w-auto px-4 py-2 bg-kfc-red text-white font-semibold rounded-lg hover:bg-red-700 transition duration-150 shadow-md">
                        Add to Order
                    </button>
                `;
            }
        }

        /**
         * Updates the quantity of an item in the cart.
         * @param {number} itemId
         * @param {number} change - 1 for add, -1 for remove.
         */
        function updateQuantity(itemId, change) {
            const currentQty = cart[itemId] || 0;
            const newQty = currentQty + change;

            if (newQty <= 0) {
                delete cart[itemId];
            } else {
                cart[itemId] = newQty;
            }

            // Re-render the specific item control on the menu
            const itemControlEl = document.getElementById(`item-control-${itemId}`);
            if (itemControlEl) {
                itemControlEl.innerHTML = renderItemControl(itemId);
            }

            renderCart();
        }

        /**
         * Renders the cart summary, updates totals, and controls the checkout button state.
         */
        function renderCart() {
            let subtotal = 0;
            let cartHtml = '';
            let hasItems = false;

            for (const itemId in cart) {
                const quantity = cart[itemId];
                if (quantity > 0) {
                    hasItems = true;
                    const item = menuItems.find(i => i.id === parseInt(itemId));
                    if (item) {
                        const itemTotal = quantity * item.price;
                        subtotal += itemTotal;
                        
                        cartHtml += `
                            <div class="flex items-center justify-between border-b border-gray-100 pb-2">
                                <div class="flex-grow">
                                    <p class="font-semibold text-gray-800">${item.name}</p>
                                    <p class="text-sm text-gray-500">Qty: ${quantity} x ‚Ç±${item.price.toFixed(2)}</p>
                                </div>
                                <div class="flex items-center space-x-2">
                                    <span class="font-bold text-lg text-kfc-red">‚Ç±${itemTotal.toFixed(2)}</span>
                                    <button onclick="updateQuantity(${itemId}, -${quantity})" title="Remove all" class="text-red-500 hover:text-red-700 transition duration-150 p-1 rounded-full">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                                    </button>
                                </div>
                            </div>
                        `;
                    }
                }
            }
            
            cartItemsListEl.innerHTML = cartHtml;
            
            const total = subtotal > 0 ? subtotal + DELIVERY_FEE : 0;

            // Update display elements
            subtotalDisplayEl.textContent = `‚Ç±${subtotal.toFixed(2)}`;
            totalDisplayEl.textContent = `‚Ç±${total.toFixed(2)}`;
            
            // Manage empty cart state visibility
            emptyCartMessageEl.style.display = hasItems ? 'none' : 'block';

            // Enable/Disable checkout button
            checkoutButtonEl.disabled = !hasItems;
        }

        /**
         * Handles the checkout process (shows modal confirmation).
         */
        function placeOrder() {
            if (Object.keys(cart).length === 0) return; // Should be disabled, but a safety check

            const finalTotal = totalDisplayEl.textContent;
            
            // Show the modal and update the total text
            modalFinalTotal.textContent = finalTotal;
            checkoutModal.style.display = 'flex';
            
            // Reset the cart after "placing" the order
            cart = {};
            renderMenu(); // Update menu controls
            renderCart(); // Clear the cart display
        }

        /**
         * Hides the checkout confirmation modal.
         */
        function closeModal() {
            checkoutModal.style.display = 'none';
        }

        // --- Initial Load ---
        window.onload = function() {
            renderMenu();
            renderCart(); // Initial rendering of the cart (will show empty state)
        };
    </script>
</body>
</html>
